// This is a manifest file that'll be compiled into application.js, which will include all the files
// listed below.
//
// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, or any plugin's
// vendor/assets/javascripts directory can be referenced here using a relative path.
//
// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the
// compiled file. JavaScript code in this file should be added after the last require_* statement.
//
// Read Sprockets README (https://github.com/rails/sprockets#sprockets-directives) for details
// about supported directives.
//= require jquery
//= require jquery_ujs
//= require rails-ujs
//= require turbolinks
//= require materialize-sprockets
//= require_tree .

var coords = ["-27.62421549,-52.26566415", "-27.6242468,-52.26565028", "-27.62431096,-52.26556455", "-27.62432172,-52.26541696", "-27.62433603,-52.26527624", "-27.62434768,-52.26512118", "-27.62437204,-52.26495625", "-27.6244053,-52.26477153", "-27.6244345,-52.26456809", "-27.62448381,-52.26435172", "-27.62453131,-52.2641306", "-27.62456213,-52.26392366", "-27.62460318,-52.26373127", "-27.62466642,-52.26351802", "-27.62478985,-52.2634354", "-27.62492575,-52.26378889", "-27.62512396,-52.26421862", "-27.62535986,-52.26463635", "-27.6253538,-52.26499176", "-27.62498024,-52.26514344", "-27.62461262,-52.26539302", "-27.62453136,-52.26588396", "-27.62451295,-52.26636227", "-27.62462223,-52.26682687", "-27.6247807,-52.26725987", "-27.6249429,-52.26763594", "-27.62514622,-52.26796729", "-27.6253384,-52.26825529", "-27.62551652,-52.2685199", "-27.62570235,-52.26878096", "-27.62596401,-52.26912239", "-27.62625072,-52.26947905", "-27.62646096,-52.26976942", "-27.6266263,-52.26999543", "-27.62690469,-52.27013961", "-27.62722151,-52.27029371", "-27.62757143,-52.27045203", "-27.62791401,-52.27061485", "-27.62825026,-52.2707859", "-27.62859308,-52.27094049", "-27.62889778,-52.27116818", "-27.6290776,-52.27150015", "-27.62923851,-52.27181082", "-27.62946304,-52.27201811", "-27.62963909,-52.27228684", "-27.62980733,-52.27256771", "-27.62994892,-52.27293435", "-27.63001246,-52.27329309", "-27.63003759,-52.27365929", "-27.63003689,-52.27404866", "-27.63000942,-52.27447315", "-27.62997923,-52.27490941", "-27.62993991,-52.27536934", "-27.62990926,-52.27579139", "-27.62991726,-52.2760482", "-27.63001572,-52.27621634", "-27.63028712,-52.27614161", "-27.63059154,-52.27601575", "-27.63082794,-52.27590018", "-27.63093198,-52.27585889", "-27.63113863,-52.27575327", "-27.63138512,-52.27565768", "-27.63162338,-52.27556073", "-27.63185302,-52.27544464", "-27.63210845,-52.27532759", "-27.63239944,-52.27518312", "-27.63268489,-52.27504505", "-27.63287755,-52.27495332", "-27.63291167,-52.27492009", "-27.63291014,-52.27492771", "-27.63289925,-52.27493478", "-27.63289769,-52.27494124", "-27.6329027,-52.27494952", "-27.63292672,-52.27493657", "-27.63305361,-52.27486656", "-27.6332547,-52.27477405", "-27.63347804,-52.27466546", "-27.63365396,-52.27457346", "-27.63390294,-52.27443941", "-27.63417645,-52.27427683", "-27.63447031,-52.27418407", "-27.63480624,-52.27416623", "-27.63510472,-52.27410538", "-27.63536385,-52.2739354", "-27.63558261,-52.27369266", "-27.63581376,-52.27357014", "-27.6360707,-52.27341629", "-27.63637969,-52.27325995", "-27.63660683,-52.27315641", "-27.63662019,-52.27314957", "-27.63663491,-52.27314324", "-27.63664391,-52.27314039", "-27.63664482,-52.27313963", "-27.63664603,-52.2731383", "-27.63664699,-52.27313701", "-27.63679467,-52.27308456", "-27.63724052,-52.27285197", "-27.63769011,-52.27262547", "-27.63789851,-52.27242064", "-27.63789549,-52.27241126", "-27.63789629,-52.27241112", "-27.63789768,-52.27241057", "-27.63789766,-52.27241043", "-27.63778176,-52.27218425", "-27.63748876,-52.27142184", "-27.63716704,-52.27053514", "-27.63735403,-52.27032622", "-27.63772041,-52.27018207", "-27.63793584,-52.27011602", "-27.63795776,-52.27012161", "-27.63796308,-52.27011656", "-27.63796301,-52.27011682", "-27.63796483,-52.27011562", "-27.63796566,-52.27010666", "-27.63796136,-52.27010335", "-27.63796125,-52.27010337", "-27.63796125,-52.27010332", "-27.63796126,-52.27010342", "-27.6379612,-52.27010346", "-27.63820795,-52.26999076", "-27.63899909,-52.26962294", "-27.64002277,-52.26913252", "-27.64089543,-52.26872845", "-27.6413581,-52.26850819", "-27.64172749,-52.26834076", "-27.64191307,-52.26864135", "-27.64208206,-52.26916058", "-27.64227561,-52.26962047", "-27.64210501,-52.26987741", "-27.64181405,-52.27009576", "-27.64153484,-52.27043444", "-27.64118014,-52.2707529", "-27.64076329,-52.27095595", "-27.6404134,-52.27111563", "-27.64004177,-52.27128434", "-27.63983281,-52.27107618", "-27.63973737,-52.27078831", "-27.63978374,-52.27070828", "-27.63988366,-52.27066318", "-27.64003163,-52.27058328", "-27.64015938,-52.27051772", "-27.64026524,-52.2704875", "-27.64029095,-52.27049352"]

$(document).on('turbolinks:load', function() {
  $('#gesso').click(function() {
    post(0)
  })

  function post(counter) {
    if (counter === coords.length) {
      return
    }
    setTimeout(function() {
      $.post({
          url: 'http://track-j.herokuapp.com/api/v1/posicoes/post_posicoes',
          data: {
            token: "fb24239cefa19d5f025cceae7b63cb54",
            coordenadas_geograficas: coords[counter]
          }
        }).done(function(data) {
          console.log('OK', data);
        })
        .fail(function(err) {
          console.log('ERRO', err);
        })
      return post(counter + 1)
    }, 5000)
  }
})
